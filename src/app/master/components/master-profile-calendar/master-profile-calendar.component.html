<ng-container *ngIf="context$ | async as context">
  <ion-row *ngIf="schedule$ | async as schedule">
    <ion-col size="12">
      <app-collapse-item title="{{ 'master-profile.calendar.schedule' | translate }}">
        <app-schedule-editor
          *ngIf="context.canEdit; else scheduleViewer"
          [schedule]="schedule"
          [formControl]="scheduleEditor"
        ></app-schedule-editor>
        <ion-button type="submit" expand="block" [disabled]="scheduleEditor.invalid" (click)="updateSchedule()">
          {{ 'global.save' | translate }}
        </ion-button>
        <ng-template #scheduleViewer>
          <app-schedule-viewer [schedule]="schedule"> </app-schedule-viewer>
        </ng-template>
      </app-collapse-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size="12">
      <ion-item lines="none" class="ion-item-bottom-border master-profile-tab-title">
        {{ 'master-profile.calendar.title' | translate }}
      </ion-item>
      <app-calendar-component (newDate)="changeDate($event)" [disabled]="true" [enabledPeriods]="enabledPeriods | async">
      </app-calendar-component>
    </ion-col>
  </ion-row>
</ng-container>
